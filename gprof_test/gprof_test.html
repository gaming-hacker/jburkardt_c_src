<html>

  <head>
    <title>
      gprof_test
    </title>
  </head>

  <body bgcolor="#EEEEEE" link="#CC0000" alink="#FF3300" vlink="#000055">

    <h1 align = "center">
      gprof_test
    </h1>

    <hr>

    <p>
      <b>gprof_test</b>,
      C programs which
      illustrate how the GPROF peformance monitoring program
      can be used to monitor the performance of a C program and produce a variety of reports.
    </p>

    <p>
      In order to use GPROF with a C program, the user program
      must be compiled and linked with the <b>-pg</b> switch.  For example,
      either
      <pre><b>
        gcc -pg myprog.c
      </b></pre>
      or, in a two step process,
      <pre><b>
        gcc -c -pg myprog.c
        gcc -pg myprog.o
      </b></pre>
      When the resulting executable program is run, <b>GPROF</b>
      will silently monitor the program, and produce a report
      file called <b>gmon.out</b>.  This report file is not user-readable.
      To see the information contained in the report, you have to
      run <b>gprof</b> and tell it the name of the executable program
      you just ran.  A typical procedure, then, would be to issue the
      commands
      <pre>
        <i>myprog</i>            <i>(to run your program called "myprog")</i>
        <b>gprof</b> <i>myprog</i>      <i>(to have GPROF make the report)</i>
      </pre>
    </p>

    <p>
      <b>GPROF</b> can only report on code which has been compiled
      with the appropriate options.  If your program calls routines
      from a precompiled library (which probably was NOT compiled
      with the -pg option!) then your report information will not
      include information about the time spent in those routines.
      <b>GPROF</b>'s report will charge all such time to the higher level
      routine that called the library routine.  If most of your
      execution time occurs in various library routines, then this
      fact may greatly reduce the value of <b>GPROF</b>'s information.
    </p>

    <p>
      For more information on how to use <b>GPROF</b>, type
      <pre><b>
        man gprof
      </b></pre>
    </p>

    <h3 align = "center">
      Licensing:
    </h3>

    <p>
      The computer code and data files described and made available on this web page
      are distributed under
      <a href = "https://www.gnu.org/licenses/lgpl-3.0.en.html">the GNU LGPL license.</a>
    </p>

    <h3 align = "center">
      Languages:
    </h3>

    <p>
      <b>gprof_test</b> examples are available in
      <a href = "../../c_src/gprof_test/gprof_test.html">a C version</a> and
      <a href = "../../cpp_src/gprof_test/gprof_test.html">a C++ version</a> and
      <a href = "../../f_src/gprof_test/gprof_test.html">a FORTRAN90 version</a>.
    </p>

    <h3 align = "center">
      Examples and Tests:
    </h3>

    <p>
      <b>LINPACK_BENCH</b> is the LINPACK benchmark code, which
      solves a linear system.
      This program was compiled, run, and analyzed with GPROF.
      Files you may copy include:
      <ul>
        <li>
          <a href = "linpack_bench.c">linpack_bench.c</a>,
          the source code.
        </li>
        <li>
          <a href = "linpack_bench.txt">linpack_bench.txt</a>,
          the output from the LINPACK_BENCHMARK executable.
        </li>
        <li>
          <a href = "linpack_bench_gprof.txt">linpack_bench_gprof.txt</a>,
          the performance report produced by GPROF.
        </li>
      </ul>
    </p>

    <hr>

    <i>
      Last revised on 14 September 2010.
    </i>

    <!-- John Burkardt -->

  </body>

</html>
